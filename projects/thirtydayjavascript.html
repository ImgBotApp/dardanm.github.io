<!doctype html>
<html lang="en">
<head>
  <title>Dardan's Porfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../stylesheets/main.css">
  <link rel="stylesheet" type="text/css" href="../stylesheets/thirtyjavascript.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>
  
<body>
	
	 <header>
	 	<h1>30 Javascript Challenge</h1>
	 </header>  
  	
  	 <h2>1. Javascript Drum Kit</h2>
  	 <div class="keys">
  	 	
  	 	<!-- keycode.info for key codes -->
  	 	<div data-key="65" class="key">
  	 		<kbd>A</kbd><br>
  	 		<span class="sound">clap</span>
  	 	</div>
  	 	<div data-key="83" class="key">
  	 		<kbd>S</kbd><br>
  	 		<span class="sound">hihat</span>
  	 	</div>
  	 	<div data-key="68" class="key">
  	 		<kbd>D</kbd><br>
  	 		<span class="sound">kick</span>
  	 	</div>
  	 	
  	 </div>
  	 
  	 <audio data-key="65" src="../files/sound/clap.wav"></audio>
  	 <audio data-key="83" src="../files/sound/hihat.wav"></audio>
  	 <audio data-key="68" src="../files/sound/kick.wav"></audio>
  	
  	<script>
		// listen for keydown event, and then run function e
		window.addEventListener('keydown', function(e){
			// querySelector only looking for one vs querySelectorAll
			const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
			const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
			
			if(!audio) return;
			
			audio.currentTime = 0; // rewind to start
			audio.play();
			
			key.classList.add('playing');
			
			
	    });
		
		function removeTransition(e){
			if(e.propertyName !== 'transform') return;
			e.target.classList.remove('playing');
		}
		
		const keys = document.querySelectorAll('.key');
  		keys.forEach(key => key.addEventListener('transitionend', removeTransition));
		
	</script>
  
  	  	 <h2>2. CSS + JS Clock</h2>

	  
</body>
</html>